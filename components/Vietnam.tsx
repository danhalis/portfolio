import React, { useState } from "react";
import { motion } from "framer-motion";
import { InView } from "react-intersection-observer";

interface Props {
  className?: string;
  strokeWidth: number;
  strokeColor: string;
  height: number;
}

function Vietnam({ className, height, strokeWidth, strokeColor }: Props) {
  const transition = { duration: 4, yoyo: Infinity, ease: "easeInOut" };
  const [inView, setInview] = useState(false);

  return (
    <InView
      as="div"
      onChange={(inView, entry) => {
        if (!inView) return;
        setInview(inView);
      }}
      root={null}
      rootMargin="0px"
      threshold={0.8}
    >
      <div className={className}>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          version="1.0"
          height={height}
          viewBox="0 0 426 898"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0,898) scale(0.1,-0.1)"
            fill="#000000"
            stroke="none"
          >
            <motion.path
              fill="transparent"
              strokeWidth={strokeWidth}
              stroke={strokeColor}
              strokeLinecap="round"
              initial={{ pathLength: 0 }}
              animate={{ pathLength: inView ? 1 : 0 }} // -> this works on Chrome (https://stackoverflow.com/a/72860664/19106660)
              whileInView={{ pathLength: 1 }} // -> for some reason this doesn't work on Chrome
              transition={transition}
              d="M1750 8973 c-27 -10 -60 -46 -80 -88 -15 -31 -31 -47 -62 -61 -70 -31 -119 -73 -138 -118 -25 -56 -28 -58 -52 -34 -34 34 -117 7 -133 -43 -4 -11 -15 -24 -26 -30 -17 -9 -28 -6 -58 16 -52 35 -100 42 -129 18 -18 -14 -25 -34 -32 -91 -10 -79 -23 -112 -45 -112 -26 0 -78 54 -101 106 -12 28 -30 54 -39 58 -36 14 -64 6 -89 -26 -18 -24 -26 -28 -30 -18 -2 8 -10 32 -16 53 -14 45 -46 56 -104 36 -46 -16 -80 -65 -90 -130 -10 -60 -26 -70 -88 -53 -65 17 -96 39 -124 89 -29 52 -83 81 -127 68 -34 -9 -48 -31 -69 -103 -11 -39 -19 -48 -61 -68 -30 -14 -47 -29 -46 -40 4 -143 26 -204 87 -244 15 -9 34 -30 43 -45 8 -15 31 -36 51 -45 32 -15 36 -22 42 -68 5 -35 15 -60 35 -82 26 -29 34 -32 90 -32 l61 -1 0 -32 c0 -22 -6 -36 -20 -43 -23 -12 -25 -37 -8 -75 9 -21 9 -31 0 -46 -26 -41 -15 -80 36 -128 30 -29 55 -64 66 -94 21 -56 42 -68 151 -87 39 -7 103 -21 144 -32 41 -11 85 -17 98 -13 31 7 44 43 33 91 -5 21 -7 40 -6 42 9 8 184 -21 232 -39 86 -33 105 -64 85 -144 -23 -93 -12 -120 58 -140 28 -8 37 -16 39 -37 4 -34 24 -51 110 -93 116 -56 130 -105 43 -150 -28 -14 -74 -52 -107 -90 l-59 -65 -39 19 c-86 44 -226 53 -266 16 -15 -13 -20 -31 -20 -65 0 -40 -4 -48 -25 -58 -22 -10 -25 -18 -25 -66 0 -47 4 -60 30 -90 17 -19 52 -45 78 -57 171 -79 194 -93 217 -129 30 -48 89 -99 143 -123 36 -15 57 -18 103 -13 l57 7 20 -53 c11 -29 29 -96 42 -147 33 -143 62 -191 115 -191 22 0 40 10 65 35 19 19 37 35 41 35 3 0 21 -39 39 -87 42 -114 130 -285 178 -348 20 -27 53 -60 72 -73 19 -12 40 -36 46 -51 12 -29 21 -34 80 -46 27 -5 33 -12 38 -40 9 -45 48 -91 90 -105 37 -12 46 -35 46 -114 0 -23 9 -60 20 -81 12 -24 18 -50 15 -65 -10 -47 15 -65 96 -67 69 -1 73 -3 84 -30 19 -44 76 -88 180 -139 52 -25 95 -52 95 -58 0 -7 -24 -18 -55 -25 -37 -8 -61 -20 -75 -38 -27 -35 -25 -55 10 -91 17 -18 30 -40 30 -51 0 -36 12 -52 60 -76 27 -13 68 -41 93 -62 25 -21 57 -46 71 -56 14 -10 26 -25 26 -33 0 -15 -40 -78 -87 -137 -27 -33 -29 -76 -8 -117 13 -25 13 -40 3 -102 -11 -61 -18 -78 -45 -104 -32 -30 -33 -34 -33 -110 1 -115 32 -248 74 -309 41 -60 56 -110 56 -187 0 -46 4 -60 21 -71 20 -15 20 -15 -10 -63 -17 -26 -34 -64 -37 -83 -4 -20 -13 -51 -21 -69 -19 -45 -9 -92 39 -180 34 -63 39 -79 33 -112 -6 -35 -13 -43 -70 -75 -47 -26 -75 -35 -110 -35 -62 0 -106 -22 -166 -83 -46 -46 -51 -49 -75 -39 -42 20 -61 14 -97 -28 -19 -22 -38 -40 -43 -40 -23 0 -85 -22 -98 -35 -8 -8 -17 -37 -21 -65 -4 -27 -9 -50 -11 -50 -3 0 -23 12 -46 28 -55 36 -129 37 -211 3 -97 -40 -130 -104 -90 -176 9 -16 19 -64 23 -105 l7 -74 55 -51 c60 -54 101 -109 91 -119 -3 -3 -21 -6 -39 -6 -26 0 -37 6 -51 30 -9 17 -25 32 -34 35 -30 10 -232 -26 -285 -50 l-52 -23 -25 25 c-16 17 -40 27 -71 30 -82 10 -118 -36 -81 -106 14 -29 14 -30 -49 -95 -54 -56 -69 -66 -98 -66 -19 0 -51 -9 -73 -20 -22 -11 -47 -20 -56 -20 -9 0 -24 -9 -35 -21 -33 -36 -24 -100 29 -210 l45 -96 64 -18 c133 -37 202 -82 182 -118 -4 -6 -35 -51 -70 -98 -110 -148 -138 -243 -99 -336 24 -58 19 -94 -20 -145 -35 -45 -60 -133 -47 -166 10 -26 51 -33 115 -18 34 8 85 17 113 21 79 10 102 30 148 125 43 89 56 101 132 120 28 7 56 25 85 54 60 63 124 94 237 117 109 22 122 32 122 94 0 57 13 67 62 49 48 -17 99 -18 151 -3 80 22 89 106 19 169 -40 36 -40 36 -21 59 11 13 19 32 19 42 0 10 20 41 45 69 53 59 62 88 46 142 -7 22 -11 41 -9 42 10 8 108 46 117 46 5 0 19 -20 30 -44 10 -24 28 -47 39 -50 30 -10 69 10 94 48 26 39 55 56 98 56 80 0 128 20 199 84 56 51 83 67 132 80 47 14 74 30 120 72 45 41 66 54 90 54 25 0 44 12 91 60 44 44 68 60 87 60 35 0 59 19 63 50 2 18 11 26 33 30 47 10 151 69 164 93 6 12 15 46 20 75 5 32 17 62 31 77 18 19 22 32 17 60 -5 30 -3 35 13 35 44 0 50 64 20 194 -11 46 -21 90 -22 97 -2 9 8 12 34 10 48 -3 58 15 42 77 -13 53 -11 62 17 62 28 0 75 26 83 45 9 25 7 63 -4 70 -5 3 -1 24 10 51 33 76 24 103 -41 131 -19 8 -33 29 -53 77 -30 76 -32 96 -11 96 18 0 35 38 27 60 -3 8 -20 36 -39 63 -38 54 -42 95 -13 122 27 24 25 41 -11 143 -17 48 -35 112 -41 142 -5 30 -16 63 -24 74 -8 11 -14 32 -14 45 0 26 -27 121 -66 234 -13 38 -24 79 -24 91 0 13 -11 40 -25 60 -17 26 -25 50 -25 81 0 24 -9 69 -20 99 -18 47 -27 58 -65 76 -25 12 -45 28 -45 35 0 19 -58 76 -98 97 -23 13 -32 24 -32 43 0 36 -23 77 -64 113 -35 30 -35 31 -20 62 15 29 15 33 -1 50 -10 11 -32 24 -50 30 -18 6 -37 22 -44 36 -16 37 -111 78 -162 71 l-40 -5 -36 64 c-25 43 -48 69 -69 79 -54 25 -133 92 -257 217 -94 94 -131 124 -180 147 -85 38 -130 93 -196 236 -51 113 -53 120 -48 183 7 92 -1 107 -78 142 -46 21 -71 39 -83 60 -9 17 -50 56 -91 86 -44 34 -84 74 -100 101 -14 25 -45 67 -68 94 -24 27 -50 61 -59 75 -16 24 -16 26 16 59 18 19 36 50 40 72 21 97 62 226 100 308 76 169 69 159 124 166 51 6 62 14 110 89 12 19 48 52 79 73 79 52 97 84 97 174 0 62 3 76 25 101 14 17 25 40 25 53 0 13 5 31 10 39 8 12 14 10 39 -17 16 -18 39 -33 49 -33 34 0 62 32 64 72 1 34 3 36 27 32 52 -11 161 83 161 138 0 22 53 68 78 68 17 0 40 17 73 54 48 51 52 54 125 66 113 19 129 45 68 108 -20 20 -43 50 -50 65 -28 53 -79 57 -201 15 -59 -20 -64 -20 -81 -5 -10 9 -24 17 -30 17 -7 0 -22 12 -35 26 -12 15 -41 35 -64 45 -34 14 -43 24 -43 43 0 19 -12 31 -63 59 -35 19 -78 38 -96 42 -25 5 -31 11 -26 23 26 64 27 73 11 91 -9 10 -34 26 -56 36 -22 10 -40 23 -40 29 1 32 15 57 35 62 35 9 54 35 64 88 5 26 18 57 28 69 11 12 23 28 27 34 13 23 -13 52 -52 59 -20 3 -50 14 -67 24 -51 30 -95 33 -135 9 -21 -13 -36 -17 -38 -11 -2 6 -13 26 -25 44 -30 45 -63 47 -111 8 -21 -16 -40 -30 -42 -30 -3 0 -18 23 -35 50 -33 54 -57 66 -114 57 -29 -5 -38 -1 -62 27 -16 17 -37 53 -46 78 -13 34 -27 50 -50 61 -38 18 -106 28 -127 20z m71 -63 c28 -8 40 -18 49 -43 38 -97 100 -149 166 -140 40 5 41 4 68 -41 42 -73 77 -83 139 -40 21 14 40 24 42 22 1 -1 10 -17 19 -35 25 -50 49 -58 100 -34 53 26 64 26 119 -2 44 -22 45 -23 31 -47 -7 -14 -13 -35 -14 -47 0 -36 -11 -53 -35 -53 -30 0 -38 -12 -63 -94 -23 -77 -20 -96 14 -96 20 0 40 -8 82 -36 2 -1 -4 -16 -12 -33 -33 -62 -16 -101 43 -101 47 0 141 -53 141 -79 0 -21 44 -61 66 -61 7 0 29 -16 48 -35 20 -19 42 -35 49 -35 8 0 22 -9 33 -21 23 -25 64 -22 173 12 72 23 74 23 85 5 6 -10 21 -31 34 -46 12 -15 22 -30 22 -33 0 -3 -21 -8 -47 -12 -52 -7 -114 -44 -143 -85 -10 -14 -28 -26 -40 -27 -48 -4 -112 -71 -125 -131 -5 -26 -16 -37 -50 -53 -41 -19 -46 -20 -67 -5 -59 42 -110 5 -83 -60 21 -51 19 -59 -8 -28 -47 54 -137 18 -137 -53 0 -15 -10 -37 -22 -50 -19 -20 -23 -38 -26 -101 -4 -112 -7 -118 -60 -148 -67 -39 -102 -73 -123 -121 -18 -42 -20 -43 -65 -43 -38 0 -51 -5 -73 -29 -15 -16 -36 -51 -46 -78 -10 -26 -33 -78 -51 -115 -30 -59 -77 -210 -91 -289 -3 -15 -20 -42 -39 -60 -57 -55 -50 -84 48 -202 26 -32 48 -62 48 -66 0 -18 69 -93 125 -136 33 -26 71 -63 85 -83 17 -24 49 -48 90 -70 47 -23 64 -37 62 -50 -12 -80 -4 -135 30 -205 20 -39 48 -98 63 -130 36 -78 108 -149 189 -187 52 -25 81 -49 138 -112 79 -87 222 -209 279 -238 25 -13 45 -36 68 -80 41 -77 68 -96 113 -80 43 16 104 -7 118 -45 5 -14 25 -33 44 -42 30 -14 33 -19 25 -35 -14 -26 -3 -53 34 -84 44 -37 67 -74 67 -107 0 -29 49 -87 73 -87 21 0 57 -44 57 -70 0 -33 17 -50 50 -50 52 0 80 -51 80 -142 0 -37 6 -57 25 -82 14 -18 25 -45 25 -59 0 -14 11 -56 24 -94 38 -110 66 -207 66 -228 0 -11 8 -36 19 -55 10 -19 21 -57 25 -85 4 -27 19 -83 33 -123 19 -56 22 -76 13 -87 -21 -26 -24 -118 -5 -155 12 -23 14 -35 6 -38 -20 -7 -12 -68 20 -159 40 -113 56 -139 96 -158 30 -15 32 -17 21 -43 -19 -42 -46 -74 -53 -62 -11 17 -61 11 -89 -11 -33 -26 -37 -93 -6 -132 25 -31 25 -37 1 -37 -48 0 -55 -64 -24 -203 13 -59 21 -112 18 -117 -3 -6 -15 -10 -25 -10 -24 0 -35 -36 -27 -90 4 -30 1 -43 -13 -55 -18 -17 -22 -27 -35 -108 -5 -33 -12 -40 -65 -67 -33 -17 -69 -30 -80 -30 -35 0 -58 -18 -65 -49 -5 -23 -13 -31 -38 -37 -17 -3 -55 -29 -87 -59 -39 -37 -66 -54 -94 -59 -27 -5 -54 -22 -91 -57 -37 -35 -68 -54 -106 -65 -60 -18 -125 -59 -161 -102 -35 -41 -54 -50 -142 -61 -83 -10 -113 -25 -148 -71 -27 -37 -38 -38 -38 -5 0 14 -10 35 -21 46 -18 18 -29 21 -70 16 -27 -3 -62 -12 -77 -20 -15 -7 -40 -20 -57 -28 -26 -13 -30 -20 -29 -54 0 -22 4 -52 8 -66 6 -22 0 -34 -39 -80 -25 -29 -49 -65 -52 -79 -3 -14 -19 -37 -36 -51 -41 -35 -32 -69 28 -104 42 -25 63 -55 51 -74 -10 -16 -98 -19 -139 -5 -54 19 -72 18 -102 -8 -19 -17 -28 -37 -33 -73 l-7 -50 -65 -12 c-110 -20 -174 -49 -244 -113 -48 -43 -74 -60 -105 -65 -69 -11 -102 -42 -148 -135 -44 -90 -66 -108 -128 -110 -16 0 -54 -7 -84 -15 l-53 -14 5 36 c4 20 15 45 26 57 48 51 66 154 36 206 -19 33 -19 102 0 146 8 20 46 78 85 131 134 181 119 226 -100 303 l-75 26 -36 70 c-40 79 -52 114 -41 129 13 18 102 55 134 55 41 0 114 43 122 72 3 13 24 36 47 52 43 30 44 35 24 119 -10 37 14 36 58 -3 42 -36 50 -37 124 -5 32 14 99 31 148 39 l90 13 26 -30 c22 -25 35 -31 82 -35 73 -6 105 3 119 33 19 41 -39 131 -136 212 -22 19 -26 29 -26 79 0 39 -7 71 -22 101 -27 54 -21 69 46 102 70 35 120 33 182 -6 89 -57 120 -42 131 62 l6 54 46 7 c35 5 54 15 78 41 26 30 34 33 51 24 37 -20 57 -12 117 49 64 64 97 81 160 78 51 -3 187 71 205 111 23 50 23 123 0 161 -11 19 -32 59 -46 88 -25 51 -26 55 -11 90 9 21 19 51 22 69 3 17 20 52 37 78 51 77 55 155 8 155 -16 0 -20 7 -20 38 0 58 -25 130 -60 174 -25 30 -36 60 -51 131 -10 51 -19 116 -19 144 0 46 4 56 29 79 17 15 32 38 35 53 2 14 10 56 17 93 11 59 10 72 -5 113 l-18 47 26 27 c14 15 26 30 26 34 0 3 14 27 32 52 52 73 40 133 -34 171 -15 8 -49 34 -76 57 -26 24 -63 49 -80 56 -23 10 -32 20 -32 36 0 12 -11 39 -25 59 l-25 37 26 9 c14 6 33 10 43 10 34 0 71 39 71 74 0 45 -23 72 -77 92 -104 38 -203 106 -203 138 0 12 -7 32 -16 45 -15 21 -21 22 -85 16 l-69 -7 0 26 c0 15 -8 43 -19 64 -10 20 -21 67 -24 104 -8 83 -27 123 -64 133 -40 10 -62 33 -69 74 -11 67 -12 68 -65 75 -40 5 -52 12 -61 32 -6 13 -32 37 -57 53 -37 22 -59 49 -110 134 -35 58 -79 146 -97 194 -99 253 -102 256 -175 174 -25 -28 -48 -51 -52 -51 -14 0 -36 59 -66 173 -37 144 -63 205 -92 215 -11 5 -45 4 -73 -1 -78 -14 -128 14 -215 123 -28 35 -59 55 -158 102 -67 32 -127 67 -133 78 -16 31 -12 60 9 60 31 0 43 25 39 82 l-3 53 67 -1 c55 0 79 -6 128 -32 76 -39 90 -35 156 48 28 35 68 72 94 85 78 42 100 69 100 123 0 51 -39 94 -125 137 -69 35 -80 44 -80 67 -1 37 -18 54 -71 68 -44 13 -46 14 -39 44 19 91 17 130 -7 166 -45 66 -150 105 -313 116 -111 8 -121 1 -111 -80 l6 -53 -53 12 c-28 7 -83 21 -122 30 -38 10 -81 18 -95 19 -21 1 -28 10 -41 51 -13 38 -28 58 -63 85 -44 33 -58 62 -35 76 6 3 10 27 8 53 -1 25 3 59 9 74 7 16 12 64 12 108 0 66 -3 82 -20 99 -33 33 -57 25 -84 -27 -9 -18 -21 -33 -27 -33 -28 0 -48 23 -54 62 -13 85 -24 107 -58 116 -18 5 -37 18 -43 30 -16 32 -45 62 -60 62 -30 0 -54 51 -54 115 0 60 1 63 30 75 35 15 54 42 73 105 7 27 19 51 25 53 14 4 51 -34 74 -76 32 -59 183 -113 245 -87 31 13 45 39 64 118 10 42 38 77 60 77 4 0 14 -21 23 -47 31 -89 67 -105 113 -48 15 19 31 35 34 35 4 0 12 -13 19 -30 16 -38 101 -117 136 -126 67 -17 111 33 121 140 3 37 10 69 14 72 5 3 23 -3 40 -13 82 -47 80 -46 121 -34 28 9 45 23 60 47 23 39 31 41 65 14 14 -11 31 -20 39 -20 22 0 72 50 84 84 13 41 54 80 105 101 51 22 82 50 107 100 19 36 35 55 48 55 3 0 21 -5 41 -10z m2339 -6397 c0 -7 -9 -13 -20 -13 -23 0 -24 4 -9 32 9 17 13 18 20 7 5 -8 9 -20 9 -26z"
            />
            <motion.path
              fill="transparent"
              strokeWidth={strokeWidth}
              stroke={strokeColor}
              strokeLinecap="round"
              initial={{ pathLength: 0 }}
              animate={{ pathLength: inView ? 1 : 0 }} // -> this works on Chrome (https://stackoverflow.com/a/72860664/19106660)
              whileInView={{ pathLength: 1 }} // -> for some reason this doesn't work on Chrome
              transition={transition}
              d="M1745 8378 c-3 -7 -27 -78 -53 -158 l-49 -145 -174 -5 c-230 -7 -231 -8 -44 -145 74 -54 135 -104 135 -110 0 -6 -22 -78 -50 -160 -49 -148 -52 -175 -16 -175 7 0 71 43 144 96 82 59 137 92 145 88 6 -5 68 -48 135 -97 179 -128 189 -119 112 107 -47 140 -49 150 -33 162 220 158 248 181 248 205 l0 24 -172 3 -171 2 -54 158 c-46 136 -56 157 -76 160 -12 2 -24 -3 -27 -10z m245 -368 l135 -5 -102 -74 c-56 -40 -104 -80 -107 -87 -3 -7 12 -65 34 -128 21 -64 36 -116 34 -116 -3 0 -49 32 -103 70 -54 39 -104 70 -111 70 -7 0 -56 -32 -107 -71 -52 -39 -97 -69 -99 -66 -3 2 12 56 32 120 31 95 35 119 25 131 -7 9 -53 44 -102 78 -49 35 -89 66 -89 71 0 4 56 7 124 7 87 0 126 4 133 13 6 6 27 64 48 127 l38 114 41 -124 41 -125 135 -5z"
            />
          </g>
        </svg>
      </div>
    </InView>
  );
}

export default Vietnam;
